(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,n,t){},17:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),i=t(8),r=t.n(i),s=(t(14),t(1)),c=t(2),l=t(4),u=t(3),m=t(5),p=(t(6),function(e){function n(){return Object(s.a)(this,n),Object(l.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(m.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{id:"sidebar"},o.a.createElement("div",{className:"search-top"},o.a.createElement("button",{className:"search-close",onClick:function(){e.props.closeSearch()}},"Close"),o.a.createElement("h2",{className:"search-title"},"Search Coffee Locations"),o.a.createElement("input",{className:"search-bar",placeholder:"search for coffee shops","aria-label":"search locations",onChange:function(n){e.props.filterVenues(n.target.value)}})),o.a.createElement("div",{className:"search-list"},o.a.createElement("ul",{className:"sidebar-venue-list"},this.props.venues&&this.props.venues.length>0&&this.props.venues.filter(function(n){return n.name.toLowerCase().includes(e.props.query.toLowerCase())}).map(function(n,t){return o.a.createElement("li",{className:"sidebar-venue-item",tabIndex:"0",key:t,onClick:function(){e.props.animateList(n)}},n.name,o.a.createElement("br",null),n.location.address,o.a.createElement("br",null),n.icon)}))))}}]),n}(a.Component)),d=function(e){function n(){return Object(s.a)(this,n),Object(l.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(m.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){var e=this;return o.a.createElement("header",{className:"header"},o.a.createElement("h1",{className:"app-title"},"St. Pete Coffee"),o.a.createElement("button",{className:"search-open",onClick:function(){e.props.openSearch()}},"Search"))}}]),n}(a.Component);var h=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(l.a)(this,Object(u.a)(n).call(this,e))).setMapMarkers=function(){var e=new Promise(function(e,n){window.resolveGoogleMapsPromise=function(){e(window.google),delete window.resolveGoogleMapsPromise};var t=document.createElement("script");t.src="https://maps.googleapis.com/maps/api/js?libraries=places&key=AIzaSyBqfFulVdCVgTQv_hUCq6vRZlaBTHOGbqg&callback=resolveGoogleMapsPromise",t.async=!0,document.body.appendChild(t)}),n=fetch("https://api.foursquare.com/v2/venues/search?client_id=1NPLIXKCBYIMLDOVGKBVAJQDMMSSSNVKVPFUKVMAO2M3YXUR&client_secret=AJS5HHGWH3IL4EL1XUC2I3Q3OUAN1U0SEUYB1FUC2UK2ZCBT&ll=27.772,-82.664&query=coffee&v=20181019").then(function(e){if(e.ok)return e.json();throw new Error("Error getting data")});Promise.all([e,n]).then(function(e){var n=e[0],a=e[1].response.venues;console.log(a),t.google=n,t.markers=[],t.infoWindow=new n.maps.InfoWindow,t.map=new n.maps.Map(document.getElementById("map"),{zoom:12,scrollwheel:!0,center:{lat:a[0].location.lat,lng:a[0].location.lng}}),a.forEach(function(e){var a=new n.maps.Marker({position:{lat:e.location.lat,lng:e.location.lng},map:t.map,venue:e,id:e.id,name:e.name,animation:n.maps.Animation.DROP}),o='<div class="info-disp"><h4>'+e.name+"</h4><p>"+e.location.formattedAddress+"</p></div>";a.addListener("click",function(){null!==a.getAnimation()?a.setAnimation(null):a.setAnimation(n.maps.Animation.BOUNCE),setTimeout(function(){return a.setAnimation(null)},1500)}),n.maps.event.addListener(a,"click",function(){t.infoWindow.setContent(o),t.map.setCenter(a.position),t.infoWindow.open(t.map,a)}),t.markers.push(a)}),t.setState({venues:a})})},t.animateList=function(e){var n=t.markers.filter(function(n){return n.venue.id===e.id})[0];t.infoWindow.setContent(n.name),t.map.setCenter(n.position),t.infoWindow.open(t.map,n),null!==n.getAnimation()?n.setAnimation(null):n.setAnimation(window.google.maps.Animation.BOUNCE),setTimeout(function(){return n.setAnimation(null)},1500)},t.filterVenues=function(e){t.markers.forEach(function(n){!0===n.name.toLowerCase().includes(e.toLowerCase())?n.setVisible(!0):n.setVisible(!1)}),t.setState({query:e})},t.openSearch=function(){document.querySelector("#sidebar").style.display="block"},t.closeSearch=function(){document.querySelector("#sidebar").style.display="none"},t.state={query:"",venues:[]},t}return Object(m.a)(n,e),Object(c.a)(n,[{key:"componentDidMount",value:function(){this.setMapMarkers()}},{key:"render",value:function(){return o.a.createElement("main",{className:"main"},o.a.createElement(d,{openSearch:this.openSearch}),o.a.createElement("div",{id:"map",role:"application","aria-label":"Google Map"}),o.a.createElement(p,{venues:this.state.venues,query:this.state.query,filterVenues:this.filterVenues,animateList:this.animateList,closeSearch:this.closeSearch}),o.a.createElement("footer",{className:"footer"},o.a.createElement("p",null,"Created using FourSquare API and React")))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(h,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},6:function(e,n,t){},9:function(e,n,t){e.exports=t(17)}},[[9,2,1]]]);
//# sourceMappingURL=main.2341d3e3.chunk.js.map